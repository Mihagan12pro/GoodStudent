<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Панель заведующего - GoodStudent</title>
<link rel="stylesheet" href="/css/style.css">
<style>
.table-container{background:white;border-radius:12px;padding:20px;margin:20px 0;box-shadow:0 2px 10px rgba(0,0,0,0.1);}
.table-filters{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:20px;padding:15px;background:#f8f9fa;border-radius:8px;}
.filter-group{display:flex;flex-direction:column;}
.filter-group label{font-weight:600;margin-bottom:5px;color:#333;}
.filter-select{padding:8px 12px;border:1px solid #ddd;border-radius:6px;background:white;}
.data-table{width:100%;border-collapse:collapse;margin-top:10px;}
.data-table th{background:#667eea;color:white;padding:12px;text-align:left;font-weight:600;}
.data-table td{padding:12px;border-bottom:1px solid #e1e5e9;}
.data-table tr:hover{background:#f8f9fa;}
.column-filter{background:transparent;border:none;color:white;font-weight:600;font-size:14px;padding:5px;}
.column-filter option{color:#333;background:white;}
.status-active{color:#28a745;font-weight:600;}
.status-leave{color:#ffc107;font-weight:600;}
.status-expelled{color:#dc3545;font-weight:600;}
.btn-action{padding:6px 12px;border:none;border-radius:4px;cursor:pointer;margin:0 2px;}
.btn-edit{background:#28a745;color:white;}
.btn-delete{background:#dc3545;color:white;}
.empty-state{text-align:center;padding:40px;color:#666;}
.table-responsive{overflow-x:auto;}
.admin-tabs{display:flex;background:white;border-radius:8px;padding:4px;margin:0;box-shadow:0 1px 3px rgba(0,0,0,0.1);gap:2px;position:fixed;bottom:0;left:0;right:0;z-index:1000;}
.tab-btn{flex:1;padding:12px 8px;border:none;background:transparent;border-radius:6px;cursor:pointer;font-weight:500;font-size:12px;text-align:center;}
.tab-btn.active{background:#667eea;color:white;}
.tab-content{display:none;padding-bottom:60px;}
.tab-content.active{display:block;}
.departments-container{background:white;border-radius:12px;padding:20px;margin:20px 0;box-shadow:0 2px 10px rgba(0,0,0,0.1);}
.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #f8f9fa;}
.section-header h3{margin:0;color:#333;}
.cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-bottom:30px;}
.department-card{background:#f8f9fa;border-radius:8px;padding:20px;border-left:4px solid #667eea;}
.department-card h4{margin:0 0 10px 0;color:#333;}
.department-card p{margin:0 0 15px 0;color:#666;line-height:1.5;}
.department-stats{display:flex;gap:15px;font-size:12px;color:#888;}
.department-stats span{background:white;padding:4px 8px;border-radius:12px;border:1px solid #e1e5e9;}
.interactive-container{background:white;border-radius:12px;padding:20px;margin:20px 0;box-shadow:0 2px 10px rgba(0,0,0,0.1);}
.interactive-filters{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:20px;padding:15px;background:#f8f9fa;border-radius:8px;}
.interactive-table{width:100%;border-collapse:collapse;margin-top:10px;}
.interactive-table th{background:#667eea;color:white;padding:12px;text-align:left;font-weight:600;border:1px solid #e1e5e9;}
.interactive-table td{padding:12px;border:1px solid #e1e5e9;vertical-align:top;}
.interactive-table tr:hover{background:#f8f9fa;}
.department-section{background:#f0f4ff;font-weight:600;}
.subject-item,.group-item{margin:5px 0;padding:8px;background:white;border-radius:4px;border:1px solid #e1e5e9;}
.assignment-controls{display:flex;gap:5px;flex-wrap:wrap;}
.assignment-select{padding:6px 8px;border:1px solid #ddd;border-radius:4px;font-size:12px;min-width:120px;}
</style>
</head>
<body>
<div class="app-container">
<header class="header">
<div class="header-left">
<div class="logo">
<img src="/images/logoo.png" alt="GoodStudent" class="logo-icon">
<h1 class="logo-text">GoodStudent</h1>
</div>
<span class="user-role">Заведующий кафедрой</span>
</div>
<div class="header-right">
<div class="user-info">
<span id="admin-name">Заведующий</span>
<button class="btn-logout" id="admin-logout">Выйти</button>
</div>
</div>
</header>
<main class="main-content">
<div class="admin-dashboard">
<div class="tab-content active" id="students-tab">
<div class="dashboard-header">
<h2>Управление студентами</h2>
<p>Таблица студентов с фильтрацией по группам и преподавателям</p>
</div>
<div class="table-container">
<h3>Таблица студентов</h3>
<div id="data-table-container">
<div class="empty-state">
<h4>Загрузите студентов из Excel файла</h4>
<p>Данные появятся здесь после загрузки</p>
</div>
</div>
</div>
</div>
<div class="tab-content" id="departments-tab">
<div class="dashboard-header">
<h2>Управление кафедрами и факультетами</h2>
<p>Просмотр и управление структурой учебного заведения</p>
</div>
<div class="departments-container">
<div class="section-header">
<h3>Кафедры</h3>
<button class="btn-primary" id="add-department-btn">+Добавить кафедру</button>
</div>
<div class="cards-grid" id="departments-cards"></div>
<div class="section-header">
<h3>Факультеты</h3>
</div>
<div class="cards-grid" id="faculties-cards"></div>
</div>
</div>
<div class="tab-content" id="assignments-tab">
<div class="dashboard-header">
<h2>Назначение предметов преподавателям</h2>
<p>Распределение учебной нагрузки по кафедрам</p>
</div>
<div class="assignment-section">
<div class="assignment-card">
<h3>Новое назначение</h3>
<div class="assignment-form">
<div class="form-row">
<div class="form-group">
<label>Преподаватель</label>
<select id="instructor-select" class="form-select">
<option value="">Выберите преподавателя</option>
</select>
</div>
<div class="form-group">
<label>Кафедра</label>
<select id="department-select" class="form-select">
<option value="">Выберите кафедру</option>
</select>
</div>
</div>
<div class="form-row">
<div class="form-group">
<label>Предмет</label>
<select id="subject-assign-select" class="form-select">
<option value="">Выберите предмет</option>
</select>
</div>
<div class="form-group">
<label>Группа</label>
<select id="group-assign-select" class="form-select">
<option value="">Выберите группу</option>
</select>
</div>
</div>
<div class="form-row">
    <div class="form-group">
        <label>Аудитория</label>
        <input type="text" id="classroom-input" class="form-select" placeholder="Пр/06">
    </div>
    <div class="form-group">
        <label>Дата занятия</label>
        <input type="date" id="assignment-date" class="form-select">
    </div>
</div>
<div class="form-row">
    <div class="form-group">
        <label>Время начала</label>
        <input type="time" id="start-time" class="form-select">
    </div>
    <div class="form-group">
        <label>Время окончания</label>
        <input type="time" id="end-time" class="form-select">
    </div>
</div>
<button class="btn-primary" id="assign-subject-btn">Назначить предмет</button>
</div>
</div>
</div>
<div class="assignments-section">
<div class="assignments-card">
<h3>Текущие назначения</h3>
<div class="assignments-container" id="assignments-container">
<p style="text-align:center;color:#666;padding:20px;">Нет назначенных предметов</p>
</div>
</div>
</div>
</div>
<div class="tab-content" id="interactive-tab">
<div class="dashboard-header">
<h2>Интерактивное распределение нагрузки</h2>
<p>Сопоставление групп, предметов и преподавателей по кафедрам</p>
</div>
<div style="background: #fff3cd; padding: 10px; margin: 10px; border-radius: 5px; border: 1px solid #ffeaa7;">
        <h4>Отладочная информация интерактивной таблицы:</h4>
        <p><strong>Факультеты:</strong> <span id="debug-faculties">0</span></p>
        <p><strong>Кафедры:</strong> <span id="debug-departments-interactive">0</span></p>
        <p><strong>Предметы:</strong> <span id="debug-subjects-interactive">0</span></p>
        <p><strong>Группы:</strong> <span id="debug-groups-interactive">0</span></p>
        <p><strong>Преподаватели:</strong> <span id="debug-instructors-interactive">0</span></p>
</div>
<div class="interactive-container">
<div class="interactive-filters">
<div class="filter-group">
<label>Факультет:</label>
<select id="faculty-filter" class="filter-select">
<option value="all">Все факультеты</option>
</select>
</div>
<div class="filter-group">
<label>Группа:</label>
<select id="group-interactive-filter" class="filter-select">
<option value="all">Все группы</option>
</select>
</div>
</div>
<div class="interactive-table-container">
<table class="interactive-table">
<thead>
<tr>
<th>Факультет/Кафедра</th>
<th>Предметы</th>
<th>Группы</th>
<th>Преподаватель</th>
<th>Действия</th>
</tr>
</thead>
<tbody id="interactive-table-body">
</tbody>
</table>
</div>
</div>
</div>
<div class="tab-content" id="upload-tab">
<div class="dashboard-header">
<h2>Загрузка данных</h2>
<p>Импорт студентов и расписания из Excel файлов</p>
</div>
<div class="upload-section">
<div class="upload-card">
<h3>Загрузка студентов из Excel</h3>
<div class="upload-area" id="upload-area">
<div class="upload-placeholder">
<div class="upload-icon"></div>
<p>Перетащите Excel файл сюда или нажмите для выбора</p>
<small>Поддерживаются файлы .xlsx,.xls</small>
</div>
<input type="file" id="excel-file" accept=".xlsx,.xls" hidden>
</div>
<button class="btn-primary" id="upload-btn" disabled>Загрузить файл</button>
</div>
</div>
</div>
<div class="stats-section">
<div class="stats-grid">
<div class="stat-card">
<div class="stat-value" id="total-students">0</div>
<div class="stat-label">Студентов</div>
</div>
<div class="stat-card">
<div class="stat-value" id="total-groups">0</div>
<div class="stat-label">Групп</div>
</div>
<div class="stat-card">
<div class="stat-value" id="total-teachers">0</div>
<div class="stat-label">Преподавателей</div>
</div>
<div class="stat-card">
<div class="stat-value" id="total-assignments">0</div>
<div class="stat-label">Назначений</div>
</div>
<div class="stat-card">
<div class="stat-value" id="total-departments">0</div>
<div class="stat-label">Кафедр</div>
</div>
<div class="stat-card">
<div class="stat-value" id="total-faculties">0</div>
<div class="stat-label">Факультетов</div>
</div>
</div>
</div>
</div>
</main>
<div class="admin-tabs">
<button class="tab-btn active" data-tab="students">Студенты</button>
<button class="tab-btn" data-tab="departments">Кафедры</button>
<button class="tab-btn" data-tab="assignments">Назначения</button>
<button class="tab-btn" data-tab="upload">Загрузка</button>
</div>
</div>
<script src="/js/api.js"></script>
<script src="/js/admin.js"></script>
</body>
</html>